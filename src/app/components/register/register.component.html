<div class="register-wrapper">
  <h1>Regístrate en EasyCita</h1>

  <form [formGroup]="registerForm" (ngSubmit)="register()">

    <mat-form-field appearance="outline" class="full" floatLabel="always">
      <mat-label>Nombre</mat-label>
      <input matInput formControlName="name" name="name" autocomplete="given-name">
      <mat-error *ngIf="registerForm.get('name')?.hasError('required')">El nombre es obligatorio</mat-error>
    </mat-form-field>

    <mat-form-field appearance="outline" class="full" floatLabel="always" >
      <mat-label>Email</mat-label>
      <input matInput type="email" formControlName="email" name="email" autocomplete="email">
      <mat-error *ngIf="registerForm.get('email')?.hasError('required')">El email es obligatorio</mat-error>
      <mat-error *ngIf="registerForm.get('email')?.hasError('email')">Formato no válido</mat-error>
    </mat-form-field>

    <mat-form-field appearance="outline" class="full" floatLabel="always">
      <mat-label>Contraseña</mat-label>
      <input matInput type="password" formControlName="password" name="password" autocomplete="new-password">
      <mat-error *ngIf="registerForm.get('password')?.hasError('required')">La contraseña es obligatoria</mat-error>
      <mat-error *ngIf="registerForm.get('password')?.hasError('minlength')">Mínimo 6 caracteres</mat-error>
    </mat-form-field>

    <button class="btn-solid-primary" type="submit">
    {{ loading ? 'Registrando...' : 'Registrarse (DEBUG)' }}
  </button>

    <p *ngIf="error" style="color:red; margin-top: 10px;">{{ error }}</p>

  </form>

  <p>¿Ya tienes cuenta? <a routerLink="/login">Inicia sesión</a></p>
</div>
