<div class="citas-container">
<h2 style="background: red; color: white; padding: 10px;">
    CHIVATO: La variable loading es: {{ loading }}
  </h2>
  <div class="header-row">
    <h1 class="page-title">Mis Citas Pendientes</h1>
    
    <button class="btn-refresh" (click)="cargarCitas()" title="Actualizar lista">
      ğŸ”„
    </button>
  </div>

  <div *ngIf="loading" class="loading-container">
    <div class="spinner"></div>
    <p>Cargando tu agenda...</p>
  </div>

  <div *ngIf="!loading">

    <div *ngIf="citas.length === 0" class="empty-state">
      <span class="empty-icon">ğŸ˜Œ</span>
      <h2>No tienes citas prÃ³ximas</h2>
      <p>Disfruta de tu dÃ­a.</p>
    </div>

    <div *ngIf="citas.length > 0" class="citas-list">
      
      <div *ngFor="let cita of citas" 
           class="cita-card fade-in" 
           (click)="verDetalle(cita)"
           title="Haz clic para ver detalles">
        
        <div class="cita-icon" 
             [class.medico]="(cita.service || '').includes('MÃ©dico')" 
             [class.ayuntamiento]="!(cita.service || '').includes('MÃ©dico')">
          {{ (cita.service || '').includes('MÃ©dico') ? 'âš•ï¸' : 'ğŸ›ï¸' }}
        </div>

        <div class="cita-info">
          <span class="cita-fecha">
            {{ cita.date | date:'dd/MM/yyyy' }} a las {{ cita.date | date:'HH:mm' }}
          </span>
          
          <h3>{{ cita.service }}</h3>
          
          <p class="cita-lugar">
            ğŸ“ {{ (cita.service || '').includes('MÃ©dico') ? 'Centro de Salud' : 'Ayuntamiento' }}
          </p>
        </div>

        <div class="cita-estado">
          <span class="badge" 
                [class.confirmada]="cita.status === 'scheduled'" 
                [class.pendiente]="cita.status === 'pendiente'">
            {{ (cita.status === 'scheduled' ? 'Confirmada' : 'Pendiente') | titlecase }}
          </span>
        </div>

        <button class="btn-cancelar" 
                (click)="cancelarCita(cita._id, $event)" 
                title="Cancelar Cita">âœ–</button>

      </div> </div> </div> </div> ```

